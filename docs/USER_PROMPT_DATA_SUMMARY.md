# User Prompt æ•°æ®ä¸Šä¼ æ€»ç»“

## ğŸ“Š å½“å‰ User Prompt åŒ…å«çš„æ‰€æœ‰æ•°æ®

### 1. ç³»ç»ŸçŠ¶æ€ä¿¡æ¯
```
- æ—¶é—´ï¼šå½“å‰æ—¶é—´æˆ³
- å‘¨æœŸï¼šå½“å‰è°ƒç”¨æ¬¡æ•°ï¼ˆ#Nï¼‰
- è¿è¡Œæ—¶é•¿ï¼šç³»ç»Ÿè¿è¡Œåˆ†é’Ÿæ•°
```

### 2. BTCå¸‚åœºæ•°æ®ï¼ˆåŸºå‡†ï¼‰
```
- å½“å‰ä»·æ ¼
- 1h/4hä»·æ ¼å˜åŒ–ï¼ˆ%ï¼‰
- MACDå€¼
- RSI7å€¼
- å¸‚åœºçŠ¶æ€ï¼ˆtrending/ranging/volatileï¼‰åŠç½®ä¿¡åº¦
```

### 3. è´¦æˆ·ä¿¡æ¯
```
- æ€»å‡€å€¼
- å¯ç”¨ä½™é¢ï¼ˆé‡‘é¢åŠå æ¯”ï¼‰
- æ€»ç›ˆäºç™¾åˆ†æ¯”
- ä¿è¯é‡‘ä½¿ç”¨ç‡ï¼ˆ%ï¼‰
- æŒä»“æ•°é‡
```

### 4. å½“å‰æŒä»“ï¼ˆæ¯ä¸ªæŒä»“åŒ…å«ï¼‰
```
- å¸ç§ã€æ–¹å‘ï¼ˆLONG/SHORTï¼‰
- å…¥åœºä»·ã€å½“å‰ä»·
- ç›ˆäºç™¾åˆ†æ¯”
- æ æ†å€æ•°
- ä¿è¯é‡‘ä½¿ç”¨
- å¼ºå¹³ä»·
- æŒä»“æ—¶é•¿
- å®Œæ•´å¸‚åœºæ•°æ®ï¼ˆé€šè¿‡market.Format()è¾“å‡ºï¼‰ï¼š
  * ä»·æ ¼ä¿¡æ¯ï¼ˆå½“å‰ä»·ã€1h/4h/1då˜åŒ–ï¼‰
  * æŠ€æœ¯æŒ‡æ ‡ï¼ˆEMA20ã€MACDã€RSI7ï¼‰
  * å¤šæ—¶é—´æ¡†æ¶æ•°æ®ï¼ˆ15m/1h/4h/1dï¼‰
  * æŒä»“é‡æ•°æ®ï¼ˆå½“å‰å€¼ã€å¹³å‡å€¼ã€å˜åŒ–ç‡ï¼‰
  * èµ„é‡‘è´¹ç‡æ•°æ®
  * ç›¸å¯¹æˆäº¤é‡ï¼ˆRVolï¼‰
  * EMAåç¦»åº¦
  * å…³é”®æµåŠ¨æ€§ï¼ˆPDH/PDLï¼‰
  * é•¿æœŸæ•°æ®ï¼ˆEMAã€ATRã€æˆäº¤é‡åºåˆ—ï¼‰
  * å¸‚åœºç»“æ„ï¼ˆæ³¢æ®µé«˜ç‚¹/ä½ç‚¹ã€åå‘ï¼‰
  * æ–æ³¢é‚£å¥‘æ°´å¹³ï¼ˆå„å›æ’¤ä½ã€OTEåŒºé—´ï¼‰
  * å¸‚åœºçŠ¶æ€
  * å½¢æ€è¯†åˆ«ç»“æœ
```

### 5. å€™é€‰å¸ç§ï¼ˆæ¯ä¸ªå¸ç§åŒ…å«ï¼‰
```
- å¸ç§åç§°
- æ¥æºæ ‡ç­¾ï¼ˆAI500/OI_Topï¼‰
- å®Œæ•´å¸‚åœºæ•°æ®ï¼ˆåŒä¸Šï¼Œé€šè¿‡market.Format()è¾“å‡ºï¼‰
```

### 6. RAGå†å²è§‚ç‚¹ï¼ˆå¯é€‰ï¼‰
```
- äº¤æ˜“å‘˜åç§°
- å†å²è§‚ç‚¹ï¼ˆæœ€å¤š5æ¡ï¼‰
- ç›¸å…³ä¸Šä¸‹æ–‡
```

### 7. å¤æ™®æ¯”ç‡
```
- è´¦æˆ·å¤æ™®æ¯”ç‡å€¼
```

### 8. å¸‚åœºçŠ¶æ€æ‘˜è¦
```
- è¶‹åŠ¿å¸‚å¸ç§æ•°é‡
- éœ‡è¡å¸‚å¸ç§æ•°é‡
- æ³¢åŠ¨å¸‚å¸ç§æ•°é‡
- æ•´ä½“å¸‚åœºçŠ¶æ€è­¦å‘Šï¼ˆå¦‚æœéœ‡è¡å¸‚å æ¯”>50%ï¼‰
```

### 9. èœ¡çƒ›å›¾å½¢æ€è¯†åˆ«ï¼ˆJSONæ ¼å¼ï¼‰
```json
{
  "SYMBOL": {
    "symbol": "SYMBOL",
    "patterns": [
      {
        "name": "CDLENGULFING",
        "display_name": "åå™¬å½¢æ€",
        "side": "bullish",
        "timeframe": "15m",
        "confidence": 0.85,
        "note": "Double Volume"
      }
    ],
    "timestamp": 1234567890
  }
}
```

### 10. å†³ç­–å­—æ®µæ•°å€¼æç¤ºï¼ˆJSONæ ¼å¼ï¼‰
```json
{
  "decision_field_hints": {
    "risk_usd_max": 1000.0,
    "leverage_max": {
      "btc_eth": 10,
      "alt": 20
    },
    "position_size_usd_max": {
      "btc_eth": 50000.0,
      "alt": 7500.0
    },
    "stop_loss": {"must_be_positive": true},
    "take_profit": {"must_be_positive": true}
  }
}
```

---

## ğŸ—‚ï¸ æ•°æ®åˆ†ç±»ï¼ˆæŒ‰åŠŸèƒ½ï¼‰

### A. ä»·æ ¼ç›¸å…³
- å½“å‰ä»·æ ¼
- ä»·æ ¼å˜åŒ–ï¼ˆ1h/4h/1dï¼‰
- å‰æ—¥é«˜ä½ç‚¹ï¼ˆPDH/PDLï¼‰

### B. æŠ€æœ¯æŒ‡æ ‡
- EMA20/EMA50ï¼ˆå¤šæ—¶é—´æ¡†æ¶ï¼‰
- MACDï¼ˆå¤šæ—¶é—´æ¡†æ¶ï¼‰
- RSI7/RSI14ï¼ˆå¤šæ—¶é—´æ¡†æ¶ï¼‰
- ATR3/ATR14ï¼ˆæ³¢åŠ¨ç‡ï¼‰

### C. è¶‹åŠ¿åˆ†æ
- å¤šæ—¶é—´æ¡†æ¶è¶‹åŠ¿æ–¹å‘ï¼ˆbullish/bearish/neutralï¼‰
- ä¿¡å·å¼ºåº¦ï¼ˆ0-100ï¼‰
- å¸‚åœºç»“æ„ï¼ˆæ³¢æ®µé«˜ç‚¹/ä½ç‚¹ã€åå‘ï¼‰
- å¸‚åœºçŠ¶æ€ï¼ˆtrending/ranging/volatileï¼‰

### D. å…¥åœºä¿¡å·
- æ–æ³¢é‚£å¥‘æ°´å¹³ï¼ˆOTEåŒºé—´ï¼š0.618-0.705ï¼‰
- èœ¡çƒ›å›¾å½¢æ€ï¼ˆåå™¬ã€åå­—æ˜Ÿç­‰ï¼‰
- æˆäº¤é‡åˆ†æï¼ˆRVolï¼‰

### E. èµ„é‡‘æµå‘
- æŒä»“é‡ï¼ˆOIï¼‰åŠå˜åŒ–ç‡
- èµ„é‡‘è´¹ç‡åŠå˜åŒ–ç‡

### F. é£é™©æ§åˆ¶
- EMAåç¦»åº¦
- å¸‚åœºçŠ¶æ€ï¼ˆé¿å…éœ‡è¡å¸‚ï¼‰
- è´¦æˆ·ä¿¡æ¯ï¼ˆå‡€å€¼ã€ä¿è¯é‡‘ä½¿ç”¨ç‡ï¼‰

---

## ğŸ“‹ å®Œæ•´æ•°æ®å­—æ®µåˆ—è¡¨

### market.Data ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Symbol` | string | å¸ç§ç¬¦å· |
| `CurrentPrice` | float64 | å½“å‰ä»·æ ¼ |
| `PriceChange1h` | float64 | 1å°æ—¶å˜åŒ–ï¼ˆ%ï¼‰ |
| `PriceChange4h` | float64 | 4å°æ—¶å˜åŒ–ï¼ˆ%ï¼‰ |
| `PriceChange1d` | float64 | æ—¥çº¿å˜åŒ–ï¼ˆ%ï¼‰ |
| `CurrentEMA20` | float64 | 20å‘¨æœŸEMA |
| `CurrentMACD` | float64 | MACDå€¼ |
| `CurrentRSI7` | float64 | 7å‘¨æœŸRSI |
| `OpenInterest` | *OIData | æŒä»“é‡æ•°æ® |
| `FundingRate` | *FundingRateData | èµ„é‡‘è´¹ç‡æ•°æ® |
| `MultiTimeframe` | *MultiTimeframeData | å¤šæ—¶é—´æ¡†æ¶æ•°æ® |
| `LongerTermContext` | *LongerTermData | é•¿æœŸæ•°æ® |
| `MarketStructure` | *MarketStructure | å¸‚åœºç»“æ„ |
| `FibLevels` | *FibLevels | æ–æ³¢é‚£å¥‘æ°´å¹³ |
| `PatternRecognition` | *PatternRecognition | å½¢æ€è¯†åˆ« |
| `RVol` | float64 | ç›¸å¯¹æˆäº¤é‡ |
| `EMADeviation` | float64 | EMAåç¦»åº¦ï¼ˆ%ï¼‰ |
| `PDH` | float64 | å‰æ—¥é«˜ç‚¹ |
| `PDL` | float64 | å‰æ—¥ä½ç‚¹ |

### OIData ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Latest` | float64 | å½“å‰æŒä»“é‡ |
| `Average` | float64 | å¹³å‡æŒä»“é‡ |
| `Change15m` | float64 | 15åˆ†é’Ÿå˜åŒ–ï¼ˆ%ï¼‰ |
| `Change1h` | float64 | 1å°æ—¶å˜åŒ–ï¼ˆ%ï¼‰ |
| `Change4h` | float64 | 4å°æ—¶å˜åŒ–ï¼ˆ%ï¼‰ |
| `Change1d` | float64 | 1å¤©å˜åŒ–ï¼ˆ%ï¼‰ |

### FundingRateData ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Latest` | float64 | å½“å‰èµ„é‡‘è´¹ç‡ |
| `Change15m` | float64 | 15åˆ†é’Ÿå˜åŒ–ï¼ˆåŸºç‚¹ï¼‰ |
| `Change1h` | float64 | 1å°æ—¶å˜åŒ–ï¼ˆåŸºç‚¹ï¼‰ |
| `Change4h` | float64 | 4å°æ—¶å˜åŒ–ï¼ˆåŸºç‚¹ï¼‰ |
| `Change1d` | float64 | 1å¤©å˜åŒ–ï¼ˆåŸºç‚¹ï¼‰ |

### MultiTimeframeData ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Timeframe15m` | *TimeframeData | 15åˆ†é’Ÿæ•°æ® |
| `Timeframe1h` | *TimeframeData | 1å°æ—¶æ•°æ® |
| `Timeframe4h` | *TimeframeData | 4å°æ—¶æ•°æ® |
| `Timeframe1d` | *TimeframeData | æ—¥çº¿æ•°æ® |

### TimeframeData ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Timeframe` | string | æ—¶é—´æ¡†æ¶ï¼ˆ15m/1h/4h/1dï¼‰ |
| `CurrentPrice` | float64 | å½“å‰ä»·æ ¼ |
| `EMA20` | float64 | 20å‘¨æœŸEMA |
| `EMA50` | float64 | 50å‘¨æœŸEMA |
| `MACD` | float64 | MACDå€¼ |
| `RSI7` | float64 | 7å‘¨æœŸRSI |
| `RSI14` | float64 | 14å‘¨æœŸRSI |
| `ATR14` | float64 | 14å‘¨æœŸATR |
| `Volume` | float64 | æˆäº¤é‡ |
| `PriceSeries` | []float64 | ä»·æ ¼åºåˆ— |
| `TrendDirection` | string | è¶‹åŠ¿æ–¹å‘ï¼ˆbullish/bearish/neutralï¼‰ |
| `SignalStrength` | int | ä¿¡å·å¼ºåº¦ï¼ˆ0-100ï¼‰ |
| `Patterns` | []CandlestickPattern | å½¢æ€è¯†åˆ«ç»“æœ |
| `MarketStructure` | *MarketStructure | è¯¥æ—¶é—´æ¡†æ¶çš„å¸‚åœºç»“æ„ï¼ˆæ³¢æ®µé«˜ä½ç‚¹ã€åå‘ï¼‰ |

### MarketStructure ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `SwingHighs` | []float64 | æ³¢æ®µé«˜ç‚¹æ•°ç»„ |
| `SwingLows` | []float64 | æ³¢æ®µä½ç‚¹æ•°ç»„ |
| `CurrentBias` | string | å½“å‰åå‘ï¼ˆbullish/bearish/neutralï¼‰ |

**âœ… æ›´æ–°**ï¼šç°åœ¨**æ¯ä¸ªæ—¶é—´æ¡†æ¶éƒ½æœ‰ç‹¬ç«‹çš„ MarketStructure**ï¼š
- `TimeframeData.MarketStructure` - æ¯ä¸ªæ—¶é—´æ¡†æ¶ï¼ˆ15m/1h/4h/1dï¼‰éƒ½æœ‰ç‹¬ç«‹çš„æ³¢æ®µé«˜ä½ç‚¹
- `Data.MarketStructure` - æ—¥çº¿çš„å¸‚åœºç»“æ„ï¼ˆç”¨äºå¤§å‘¨æœŸåˆ†æï¼Œä¿æŒå‘åå…¼å®¹ï¼‰

### FibLevels ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Level236` | float64 | 0.236å›æ’¤ä½ |
| `Level382` | float64 | 0.382å›æ’¤ä½ |
| `Level500` | float64 | 0.5å›æ’¤ä½ |
| `Level618` | float64 | 0.618å›æ’¤ä½ï¼ˆOTEä¸‹é™ï¼‰ |
| `Level705` | float64 | 0.705å›æ’¤ä½ï¼ˆOTEä¸Šé™ï¼‰ |
| `Level786` | float64 | 0.786å›æ’¤ä½ |
| `High` | float64 | æ³¢æ®µé«˜ç‚¹ |
| `Low` | float64 | æ³¢æ®µä½ç‚¹ |
| `Trend` | string | è¶‹åŠ¿æ–¹å‘ |

### PatternRecognition ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Symbol` | string | å¸ç§ç¬¦å· |
| `Patterns` | []CandlestickPattern | å½¢æ€æ•°ç»„ |
| `Timestamp` | int64 | æ—¶é—´æˆ³ |

### CandlestickPattern ç»“æ„ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `Name` | string | å½¢æ€åç§°ï¼ˆå¦‚CDLENGULFINGï¼‰ |
| `DisplayName` | string | æ˜¾ç¤ºåç§°ï¼ˆå¦‚"åå™¬å½¢æ€"ï¼‰ |
| `Signal` | int | ä¿¡å·ï¼ˆ100=çœ‹æ¶¨ï¼Œ-100=çœ‹è·Œï¼‰ |
| `Side` | string | è¯­ä¹‰åŒ–ä¿¡å·ï¼ˆbullish/bearishï¼‰ |
| `Timeframe` | string | æ—¶é—´æ¡†æ¶ |
| `Index` | int | Kçº¿ç´¢å¼•ï¼ˆ-1=æœ€æ–°ï¼‰ |
| `Confidence` | float64 | ç½®ä¿¡åº¦ï¼ˆ0-1ï¼‰ |
| `Note` | string | å¤‡æ³¨ï¼ˆå¦‚"Double Volume"ï¼‰ |

---

## ğŸ¯ ä¸åŒç­–ç•¥çš„æ•°æ®éœ€æ±‚

### æ—å‡¡å¤šç©ºç­–ç•¥
**éœ€è¦çš„æ•°æ®**:
- âœ… åŸºç¡€ä»·æ ¼ï¼ˆåˆ¤æ–­å¼ºå¼±ï¼‰
- âœ… æŠ€æœ¯æŒ‡æ ‡ï¼ˆè¶‹åŠ¿ç¡®è®¤ï¼‰
- âœ… å¤šæ—¶é—´æ¡†æ¶ï¼ˆå¤§å‘¨æœŸç¡®è®¤ï¼‰
- âœ… å¸‚åœºç»“æ„ï¼ˆè¶‹åŠ¿åˆ¤æ–­ï¼‰
- âœ… æ–æ³¢é‚£å¥‘ï¼ˆOTEå…¥åœºï¼‰
- âœ… å½¢æ€è¯†åˆ«ï¼ˆå…¥åœºä¿¡å·ï¼‰
- âœ… æˆäº¤é‡ï¼ˆS2çªç ´ç¡®è®¤ï¼‰
- âœ… æŒä»“é‡ï¼ˆå¼ºå¼±åˆ¤æ–­ï¼‰
- âœ… å¸‚åœºçŠ¶æ€ï¼ˆéœ‡è¡å¸‚è¿‡æ»¤ï¼‰

### æ—å‡¡åªåšå¤šç­–ç•¥
**éœ€è¦çš„æ•°æ®**:
- âœ… åŸºç¡€ä»·æ ¼
- âœ… æŠ€æœ¯æŒ‡æ ‡
- âœ… å¤šæ—¶é—´æ¡†æ¶
- âœ… æ–æ³¢é‚£å¥‘ï¼ˆOTEå›è°ƒï¼‰
- âœ… å½¢æ€è¯†åˆ«ï¼ˆS2çªç ´ï¼‰
- âœ… æˆäº¤é‡ï¼ˆæ”¾é‡ç¡®è®¤ï¼‰
- âœ… å¸‚åœºçŠ¶æ€ï¼ˆéœ‡è¡å¸‚è¿‡æ»¤ï¼‰

### ç®€å•è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥
**éœ€è¦çš„æ•°æ®**:
- âœ… åŸºç¡€ä»·æ ¼
- âœ… æŠ€æœ¯æŒ‡æ ‡
- âœ… å¤šæ—¶é—´æ¡†æ¶ï¼ˆè¶‹åŠ¿ç¡®è®¤ï¼‰
- âœ… å¸‚åœºçŠ¶æ€ï¼ˆé¿å…éœ‡è¡å¸‚ï¼‰

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

1. **æŒ‰éœ€åŠ è½½**: æ ¹æ®ç­–ç•¥é…ç½®åªåŠ è½½éœ€è¦çš„æ•°æ®åˆ†ç±»
2. **æ ¼å¼é€‰æ‹©**: ç®€å•ç­–ç•¥ç”¨compactæ ¼å¼ï¼Œå¤æ‚ç­–ç•¥ç”¨fullæ ¼å¼
3. **ç¼“å­˜ä¼˜åŒ–**: å¤šæ—¶é—´æ¡†æ¶æ•°æ®å¯ä»¥ç¼“å­˜ï¼Œå‡å°‘APIè°ƒç”¨
4. **Tokenä¼˜åŒ–**: ä¸éœ€è¦çš„æ•°æ®ä¸åŒ…å«åœ¨promptä¸­

